const redirects = [
  {
  "from": "/ru-kz/shop",
  "to": "/ru/shop"
  }, {
  "from": "/ru-kz/maeng-da-green",
  "to": "/ru/green-maeng-da-kratom"
  }, {
  "from": "/ru-kz/maeng-da-red",
  "to": "/ru/red-maeng-da-kratom"
  }, {
  "from": "/ru-kz/kratom-malay-green",
  "to": "/ru/green-malay-kratom"
  }, {
  "from": "/ru-kz/borneo-red",
  "to": "/ru/red-vein-borneo"
  }, {
  "from": "/ru-kz/Green-Vein-Thai-Kratom",
  "to": "/ru/green-thai"
  }, {
  "from": "/ru-kz/white-elephant-kratom",
  "to": "/ru/white-elephant-kratom"
  }, {
  "from": "/ru-kz/sumatra-green-kratom",
  "to": "/ru/sumatra-green-kratom"
  }, {
  "from": "/ru-kz/guaranspir-kratom",
  "to": "/ru/guaranspir-kratom"
  }, {
  "from": "/ru-kz/maeng-da-white",
  "to": "/ru/white-maeng-da-kratom"
  }, {
  "from": "/ru-kz/shop/other-products",
  "to": "/ru/shop/other-products"
  }, {
  "from": "/ru-kz/akuamma-powder",
  "to": "/ru/akuamma-powder"
  }, {
  "from": "/ru-kz/griffonia-seeds",
  "to": "/ru/griffonia-seeds"
  }, {
  "from": "/ru-kz/banisteriopsis-caapi",
  "to": "/ru/banisteriopsis-caapi"
  }, {
  "from": "/ru-kz/guarana",
  "to": "/ru/guarana-powder"
  }, {
  "from": "/ru-kz/blue-tea",
  "to": "/ru/blue-tea"
  }, {
  "from": "/ru-kz/kopi-luwak",
  "to": "/ru/kopi-luwak-fried-beans"
  }, {
  "from": "/ru-kz/psychotria-colorata",
  "to": "/ru/psychotria-colorata"
  }, {
  "from": "/maeng-da-green",
  "to": "/green-maeng-da-kratom"
  }, {
  "from": "/maeng-da-red",
  "to": "/red-maeng-da-kratom"
  }, {
  "from": "/kratom-malay-green",
  "to": "/green-malay-kratom"
  }, {
  "from": "/borneo-red",
  "to": "/red-vein-borneo"
  }, {
  "from": "/Green-Vein-Thai-Kratom",
  "to": "/green-thai"
  }, {
  "from": "/maeng-da-white",
  "to": "/white-maeng-da-kratom"
  }, {
  "from": "/guarana",
  "to": "/guarana-powder"
  }, {
  "from": "/kopi-luwak",
  "to": "/kopi-luwak-fried-beans"
  }, {
  "from": "/ru-kz",
  "to": "/ru"
  }, {
  "from": "/ru-kz/rewards",
  "to": "/ru/rewards"
  }, {
  "from": "/ru-kz/pay_delivery",
  "to": "/ru/pay_delivery"
  }, {
  "from": "/ru-kz/reviews",
  "to": "/ru/reviews"
  }, {
  "from": "/ru-kz/guidebook",
  "to": "/ru/guidebook"
  }, {
  "from": "/ru-kz/guidebook/kratom-botanika",
  "to": "/ru/guidebook/kratom-botanika"
  }, {
  "from": "/ru-kz/guidebook/tradicionnoe-ispolzovanie-kratoma",
  "to": "/ru/guidebook/tradicionnoe-ispolzovanie-kratoma"
  }, {
  "from": "/ru-kz/guidebook/kratom-sposoby-priema-i-obshchie-effekty",
  "to": "/ru/guidebook/kratom-sposoby-priema-i-obshchie-effekty"
  }, {
  "from": "/ru-kz/guidebook/kratom-obzor",
  "to": "/ru/guidebook/kratom-obzor"
  }, {
  "from": "/ru-kz/guidebook/kratom-i-opiynyy-abstinentnyy-sindrom",
  "to": "/ru/guidebook/kratom-i-opiynyy-abstinentnyy-sindrom"
  }, {
  "from": "/ru-kz/guidebook/kratom-i-kofe",
  "to": "/ru/guidebook/kratom-i-kofe"
  },{
  "from": "/ru-kz/rewards",
  "to": "/ru/rewards"
  }, {
  "from": "/ru-kz/pay_delivery",
  "to": "/ru/pay_delivery"
  }, {
  "from": "/ru-kz/reviews",
  "to": "/ru/reviews"
  }, {
  "from": "/ru-kz/guidebook",
  "to": "/ru/guidebook"
  }, {
  "from": "/ru-kz/guidebook/kratom-botanika",
  "to": "/ru/guidebook/kratom-botanika"
  }, {
  "from": "/ru-kz/guidebook/tradicionnoe-ispolzovanie-kratoma",
  "to": "/ru/guidebook/tradicionnoe-ispolzovanie-kratoma"
  }, {
  "from": "/ru-kz/guidebook/kratom-sposoby-priema-i-obshchie-effekty",
  "to": "/ru/guidebook/kratom-sposoby-priema-i-obshchie-effekty"
  }, {
  "from": "/ru-kz/guidebook/kratom-obzor",
  "to": "/ru/guidebook/kratom-obzor"
  }, {
  "from": "/ru-kz/guidebook/kratom-i-opiynyy-abstinentnyy-sindrom",
  "to": "/ru/guidebook/kratom-i-opiynyy-abstinentnyy-sindrom"
  }, {
  "from": "/ru-kz/guidebook/kratom-i-kofe",
  "to": "/ru/guidebook/kratom-i-kofe"
  }, {
  "from": "/ru-kz/guidebook/kratom-v-medicine",
  "to": "/ru/guidebook/kratom-v-medicine"
  },
  {
  "from": "/ru-kz/guidebook/nastoyka-kratoma-polnoe-rukovodstvo-v-2020-godu",
  "to": "/ru/guidebook/nastoyka-kratoma-polnoe-rukovodstvo-v-2020-godu"
  },
  {
  "from": "/ru-kz/guidebook/informaciya-o-kratome-vse-chto-vam-nuzhno-znat",
  "to": "/ru/guidebook/informaciya-o-kratome-vse-chto-vam-nuzhno-znat"
  },
  {
  "from": "/ru-kz/guidebook/chto-takoe-abstinentnyy-sindrom-kratoma",
  "to": "/ru/guidebook/chto-takoe-abstinentnyy-sindrom-kratoma"
  },
  {
  "from": "/ru-kz/guidebook/kak-ispolzovat-kratom-i-fenibut",
  "to": "/ru/guidebook/kak-ispolzovat-kratom-i-fenibut"
  },
  {
  "from": "/ru-kz/guidebook/kakie-oshchushcheniya-daet-kratom",
  "to": "/ru/guidebook/kakie-oshchushcheniya-daet-kratom"
  },
  {
  "from": "/ru-kz/guidebook/kak-vliyaet-na-nas-kratom",
  "to": "/ru/guidebook/kak-vliyaet-na-nas-kratom"
  },
  {
  "from": "/ru-kz/guidebook/smeshivanie-kratoma-i-adderala",
  "to": "/ru/guidebook/smeshivanie-kratoma-i-adderala"
  },
  {
  "from": "/ru-kz/guidebook/kava-protiv-kratoma-chto-nuzhno-znat",
  "to": "/ru/guidebook/kava-protiv-kratoma-chto-nuzhno-znat"
  },
  {
  "from": "/ru-kz/guidebook/samyy-eyforicheskiy-kratom",
  "to": "/ru/guidebook/samyy-eyforicheskiy-kratom"
  },
  {
  "from": "/ru-kz/guidebook/kak-sdelat-chai-iz-kratoma",
  "to": "/ru/guidebook/kak-sdelat-chai-iz-kratoma"
  }, {
  "from": "/ru-kz/guidebook/luchshie-sorta-kratoma-dlya-koncentracii-i-energii",
  "to": "/ru/guidebook/luchshie-sorta-kratoma-dlya-koncentracii-i-energii"
  }, {
  "from": "/ru-kz/guidebook/istoriya-kratoma",
  "to": "/ru/guidebook/istoriya-kratoma"
  }, {
  "from": "/ru-kz/guidebook/samyy-silnyy-sort-kratoma",
  "to": "/ru/guidebook/samyy-silnyy-sort-kratoma"
  }, {
  "from": "/ru-kz/guidebook/kak-vyrastit-kratom",
  "to": "/ru/guidebook/kak-vyrastit-kratom"
  }, {
  "from": "/ru-kz/guidebook/alternativa-kratomu",
  "to": "/ru/guidebook/alternativa-kratomu"
  }, {
  "from": "/ru-kz/faq",
  "to": "/ru/faq"
  }, {
  "from": "/ru-kz/contacts",
  "to": "/ru/contacts"
  }
]

export default defineEventHandler((event) => {

  const req = event.node.req
  const host = req.headers.host;
  const fullUrl = req.url;

  var url = req.url.split('?')[0];
  
  var urlParams = null;
  
  if (req.url.includes("?")) {
    urlParams = '?' + req.url.split('?')[1]
  }

  const redirect = redirects.find(r => r.from === url)

  if (redirect) {
    var newLocation;
    if (urlParams) {
      newLocation = redirect.to + urlParams;
    } else {
      newLocation = redirect.to;
    }

    return sendRedirect(event, newLocation, 301)
  } 
})